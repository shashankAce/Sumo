{"version":3,"sources":["file:///D:/Office/Sumo/assets/Script/multiplayer/mx-multiplayer.js"],"names":["MX_MULTIPLAYER","serverLocation","COLYSEUS_CLIENT","Colyseus","Client","prototype","room","joinOrCreatePrivateRoom","options","callback","createPrivateRoom","roomId","create","roomName","roomType","playerInfo","gameConfig","then","console","log","e","joinPrivateRoom","joinById","setTimeout","send","eventName","data","onMessage","module","exports"],"mappings":"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","sourcesContent":["\n\nvar  MX_MULTIPLAYER = function(serverLocation) {\n\n    this.COLYSEUS_CLIENT = new Colyseus.Client(serverLocation);\n}\n\nMX_MULTIPLAYER.prototype.room = null;\n\nMX_MULTIPLAYER.prototype.joinOrCreatePrivateRoom = function (options, callback) {\n    // this.joinPrivateRoom(options, callback);\n    this.createPrivateRoom(options, callback);\n}\n\nMX_MULTIPLAYER.prototype.createPrivateRoom = function (options, callback) {\n    const { roomId } = options\n    if (!roomId) { return }\n\n    this.COLYSEUS_CLIENT.create(options.roomName, {\n        roomType: 'private',\n        roomId: roomId,\n        playerInfo: options.playerInfo,\n        gameConfig: options.gameConfig\n    }).then(room => {\n        this.room = room\n        console.log(room)\n        callback()\n        console.log(\"Room Created Successfully\", room)\n    }).catch((e) => {\n        console.log(e);\n    })\n}\n\nMX_MULTIPLAYER.prototype.joinPrivateRoom = function (options, callback) {\n    const { roomId } = options\n    if (!roomId) { return }\n\n    this.COLYSEUS_CLIENT.joinById(roomId, {\n        roomType: 'PRIVATE',\n        roomId: roomId,\n        playerInfo: options.playerInfo\n    }).then(room => {\n        this.room = room\n        callback()\n        console.log(\"Room Joined Successfully\", room)\n    }).catch((e) => {\n        console.log(e);\n        \n        if (!this.room) {\n            setTimeout(() => {\n                this.joinPrivateRoom(options, callback)\n            }, 1000)\n        }\n    })\n}\n\nMX_MULTIPLAYER.prototype.send = function (eventName, data) {\n    this.room.send(eventName, data)\n}\n\nMX_MULTIPLAYER.prototype.onMessage = function (eventName, callback) {\n    this.room.onMessage(eventName, callback)\n}\n\nmodule.exports = MX_MULTIPLAYER;\n"]}