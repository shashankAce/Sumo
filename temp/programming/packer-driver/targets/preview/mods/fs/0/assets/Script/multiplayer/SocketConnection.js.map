{"version":3,"sources":["file:///D:/Office/Sumo/assets/Script/multiplayer/SocketConnection.ts"],"names":["_decorator","Component","Client","ccclass","property","SocketConnection","connect","domain","window","location","href","split","url","client","create","then","room","isConnected","onConnect","console","log","e"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,M,eAAAA,M;;;;;;;AAEDC,MAAAA,O,GAAsBH,U,CAAtBG,O;AAASC,MAAAA,Q,GAAaJ,U,CAAbI,Q;;kCAGJC,gB,WADZF,OAAO,CAAC,kBAAD,C;;;;;;;;;;;;;;;;;;;;;;;;;eAQJG,O,GAAA,mBAAU;AAAA;;AACN,cAAIC,MAAM,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAb;AACA,cAAIC,GAAG,GAAG,UAAUL,MAAM,CAACI,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAAV,GAAiC,OAA3C;AAEA,eAAKE,MAAL,GAAc;AAAA;AAAA,gCAAWD,GAAX,CAAd;AAEA,eAAKC,MAAL,CAAYC,MAAZ,CAAmB,UAAnB,EAA+BC,IAA/B,CAAoC,UAAAC,IAAI,EAAI;AAExC,YAAA,MAAI,CAACC,WAAL,GAAmB,IAAnB;;AACA,YAAA,MAAI,CAACC,SAAL,CAAeF,IAAf;;AACAG,YAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCJ,IAAzC;AAGH,WAPD,WAOS,UAACK,CAAD,EAAO;AACZF,YAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACH,WATD;AAUH,S;;eAEDH,S,GAAA,mBAAUF,IAAV,EAAsB;AAClB,eAAKA,IAAL,GAAYA,IAAZ;AAGH,S;;;QA7BiCf,S","sourcesContent":["\nimport { _decorator, Component, Node } from 'cc';\nimport { Client, Room } from 'colyseus.js';\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('SocketConnection')\nexport class SocketConnection extends Component {\n\n    client: Client;\n    playerName: string;\n    isConnected: boolean;\n    room: Room;\n\n    connect() {\n        let domain = window.location.href.split('/')[2];\n        let url = \"ws://\" + domain.split(':')[0] + ':2567';\n\n        this.client = new Client(url);\n\n        this.client.create('SumoRoom').then(room => {\n\n            this.isConnected = true;\n            this.onConnect(room);\n            console.log(\"Room Created Successfully\", room);\n\n\n        }).catch((e) => {\n            console.log(e);\n        });\n    }\n\n    onConnect(room: Room) {\n        this.room = room;\n\n\n    }\n}\n"]}