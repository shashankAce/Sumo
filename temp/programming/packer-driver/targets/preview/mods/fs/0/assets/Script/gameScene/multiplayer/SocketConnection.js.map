{"version":3,"sources":["file:///D:/Office/Sumo/assets/Script/gameScene/multiplayer/SocketConnection.ts"],"names":["_decorator","Client","ccclass","SocketConnection","connect","afterConnnect","domain","window","location","href","split","url","client","create","then","room","isConnected","onConnect","console","log","e"],"mappings":";;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,M,eAAAA,M;;;;;;;AAEDC,MAAAA,O,GAAYF,U,CAAZE,O;;kCAGKC,gB,WADZD,OAAO,CAAC,kBAAD,C;;;;;;;;;;;;;eAQJE,O,GAAA,iBAAQC,aAAR,EAAiC;AAAA;;AAE7B,cAAIC,MAAM,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAb;AACA,cAAIC,GAAG,GAAG,UAAUL,MAAM,CAACI,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAAV,GAAiC,OAA3C;AAEA,eAAKE,MAAL,GAAc;AAAA;AAAA,gCAAWD,GAAX,CAAd;AAEA,eAAKC,MAAL,CAAYC,MAAZ,CAAmB,UAAnB,EAA+BC,IAA/B,CAAoC,UAAAC,IAAI,EAAI;AAExC,YAAA,KAAI,CAACC,WAAL,GAAmB,IAAnB;;AACA,YAAA,KAAI,CAACC,SAAL,CAAeF,IAAf;;AAEAV,YAAAA,aAAa;AAEba,YAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCJ,IAAzC;AAGH,WAVD,WAUS,UAACK,CAAD,EAAO;AACZF,YAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACH,WAZD;AAaH,S;;eAEDH,S,GAAA,mBAAUF,IAAV,EAAsB;AAClB,eAAKA,IAAL,GAAYA,IAAZ;AAKH,S","sourcesContent":["\nimport { _decorator } from 'cc';\nimport { Client, Room } from 'colyseus.js';\n\nconst { ccclass } = _decorator;\n\n@ccclass('SocketConnection')\nexport class SocketConnection {\n\n    client: Client;\n    playerName: string;\n    isConnected: boolean;\n    room: Room;\n\n    connect(afterConnnect: Function) {\n\n        let domain = window.location.href.split('/')[2];\n        let url = \"ws://\" + domain.split(':')[0] + ':2567';\n\n        this.client = new Client(url);\n\n        this.client.create('SumoRoom').then(room => {\n\n            this.isConnected = true;\n            this.onConnect(room);\n\n            afterConnnect();\n\n            console.log(\"Room Created Successfully\", room);\n\n\n        }).catch((e) => {\n            console.log(e);\n        });\n    }\n\n    onConnect(room: Room) {\n        this.room = room;\n\n\n\n\n    }\n}\n"]}