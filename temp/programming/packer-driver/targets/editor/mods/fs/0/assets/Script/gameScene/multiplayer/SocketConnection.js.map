{"version":3,"sources":["file:///D:/Office/Sumo/assets/Script/gameScene/multiplayer/SocketConnection.ts"],"names":["_decorator","Client","ccclass","SocketConnection","connect","afterConnnect","domain","window","location","href","split","url","client","create","then","room","isConnected","onConnect","console","log","catch","e"],"mappings":";;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,M,eAAAA,M;;;;;;;OAEH;AAAEC,QAAAA;AAAF,O,GAAcF,U;;kCAGPG,gB,WADZD,OAAO,CAAC,kBAAD,C,yBAAR,MACaC,gBADb,CAC8B;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAO1BC,QAAAA,OAAO,CAACC,aAAD,EAA0B;AAE7B,cAAIC,MAAM,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAb;AACA,cAAIC,GAAG,GAAG,UAAUL,MAAM,CAACI,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAAV,GAAiC,OAA3C;AAEA,eAAKE,MAAL,GAAc;AAAA;AAAA,gCAAWD,GAAX,CAAd;AAEA,eAAKC,MAAL,CAAYC,MAAZ,CAAmB,UAAnB,EAA+BC,IAA/B,CAAoCC,IAAI,IAAI;AAExC,iBAAKC,WAAL,GAAmB,IAAnB;AACA,iBAAKC,SAAL,CAAeF,IAAf;AAEAV,YAAAA,aAAa;AAEba,YAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCJ,IAAzC;AAGH,WAVD,EAUGK,KAVH,CAUUC,CAAD,IAAO;AACZH,YAAAA,OAAO,CAACC,GAAR,CAAYE,CAAZ;AACH,WAZD;AAaH;;AAEDJ,QAAAA,SAAS,CAACF,IAAD,EAAa;AAClB,eAAKA,IAAL,GAAYA,IAAZ;AAKH;;AAnCyB,O","sourcesContent":["\nimport { _decorator } from 'cc';\nimport { Client, Room } from 'colyseus.js';\n\nconst { ccclass } = _decorator;\n\n@ccclass('SocketConnection')\nexport class SocketConnection {\n\n    client: Client;\n    playerName: string;\n    isConnected: boolean;\n    room: Room;\n\n    connect(afterConnnect: Function) {\n\n        let domain = window.location.href.split('/')[2];\n        let url = \"ws://\" + domain.split(':')[0] + ':2567';\n\n        this.client = new Client(url);\n\n        this.client.create('SumoRoom').then(room => {\n\n            this.isConnected = true;\n            this.onConnect(room);\n\n            afterConnnect();\n\n            console.log(\"Room Created Successfully\", room);\n\n\n        }).catch((e) => {\n            console.log(e);\n        });\n    }\n\n    onConnect(room: Room) {\n        this.room = room;\n\n\n\n\n    }\n}\n"]}